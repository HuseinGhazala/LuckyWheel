# حل خطأ: تعذر العثور على دالة doGet

## سبب الخطأ
هذا الخطأ يظهر عندما يكون الكود **ليس في الملف الرئيسي** أو عند النشر من نوع خاطئ.

---

## الخطوات الصحيحة (بالترتيب)

### 1. فتح المشروع الصحيح
- اذهب إلى [Google Drive](https://drive.google.com) → افتح **ملف Google Sheet** (الجدول) المرتبط بعجلة الحظ.
- من القائمة: **الإضافات (Extensions)** → **Apps Script**.
- يفتح محرر السكربت مرتبطاً **بنفس الجدول**.

### 2. التأكد من وجود كل الكود في ملف واحد
- في الجانب الأيسر يجب أن ترى ملفاً اسمه مثل **Code.gs** أو **أساسي**.
- اضغط عليه وافتحه.
- **احذف كل ما بداخل الملف** ثم **انسخ كل محتوى** الملف `google-apps-script.js` من مشروع LuckyWheel والصقه هنا.
- يجب أن ترى في بداية الملف:
  - `function doPost(e) { ... }`
  - ثم `function doGet(e) { ... }`
- اضغط **حفظ** (أيقونة القرص أو Ctrl+S).

### 3. تشغيل دالة بسيطة للتأكد
- من القائمة العلوية: اختر الدالة **createAllSheets** من القائمة المنسدلة بجانب "تشغيل".
- اضغط **تشغيل (Run)**.
- إذا طلب منك التفويض (صلاحيات)، وافق حتى تكتمل المرة الأولى.
- إذا ظهرت رسالة مثل "تم إنشاء جميع الأوراق بنجاح!" فالكود يعمل.

### 4. النشر كتطبيق ويب
- من القائمة: **نشر (Deploy)** → **إدارة عمليات النشر (Manage deployments)**.
- اضغط **إنشاء نشر (Create deployment)** إن لم يكن هناك نشر سابق.
- اختر النوع: **تطبيق ويب (Web app)**.
- الإعدادات:
  - **تنفيذ التطبيق باسم (Execute as):** أنا (بريدك).
  - **من يمكنه الوصول (Who has access):** **أي شخص (Anyone)**.
- اضغط **نشر (Deploy)**.
- انسخ **رابط التطبيق (Web app URL)** واستخدمه في لوحة تحكم عجلة الحظ.

### 5. عند تحديث الكود لاحقاً
- بعد أي تعديل على الكود:
  - **نشر** → **إدارة عمليات النشر**.
  - اضغط أيقونة **تعديل (القلم)** بجانب النشر الحالي.
  - في **الإصدار (Version)** اختر **إصدار جديد (New version)**.
  - اضغط **نشر**. الرابط يبقى نفسه.

---

## إن ظهر الخطأ مرة أخرى

1. **تأكد أنك داخل مشروع Apps Script مرتبط بورقة (Sheet)** وليس مشروع "Standalone" فارغ بدون Sheet.
2. **تأكد أن اسم الدالة بالضبط:** `doGet` (حرف G كبير، والباقي صغير).
3. من القائمة المنسدلة "الدالة" في الأعلى، ابحث عن **doGet** في القائمة. إن لم تظهر، فالدالة غير موجودة في الملف الحالي → أعد لصق كل محتوى `google-apps-script.js` في **Code.gs** (الملف الافتراضي الوحيد أو الرئيسي) واحفظ.
